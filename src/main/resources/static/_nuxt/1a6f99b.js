(window.webpackJsonp=window.webpackJsonp||[]).push([[27,28],{520:function(t,e,o){var content=o(547);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(15).default)("6427b3f1",content,!0,{sourceMap:!1})},529:function(t,e,o){"use strict";var n=o(106),r=o(35),l=o(5),c=o(7);e.a=Object(l.a)(n.a,r.a).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(element=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(element)&&1===element.length&&(element=element[0]),element&&!Array.isArray(element)&&element.tag?(this.disabled||(element.data=element.data||{},this._g(element.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),element):(Object(c.c)("v-hover should only contain a single element",this),element)):(Object(c.c)("v-hover is missing a default scopedSlot or bound value",this),null);var element}})},535:function(t,e,o){var content=o(577);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(15).default)("6d75bdbf",content,!0,{sourceMap:!1})},546:function(t,e,o){"use strict";o(520)},547:function(t,e,o){var n=o(14)(!1);n.push([t.i,".slider-card{position:relative;width:300px;height:auto}.image{display:block;width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.overlay{position:absolute;bottom:0;width:20%;transition:.5s ease;opacity:1;color:#fff;font-size:20px;padding-left:.5rem}.assetCode{color:#fff;font-size:1rem;margin-right:5rem}@media screen and (max-width:768px){.slider-card{width:300px}}.custom-loader{-webkit-animation:loader 1s infinite;animation:loader 1s infinite;display:flex}@-webkit-keyframes loader{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@keyframes loader{0%{transform:rotate(0)}to{transform:rotate(1turn)}}",""]),t.exports=n},551:function(t,e,o){"use strict";o.r(e);o(10),o(8),o(11),o(12),o(9),o(13);var n=o(3),r=o(1),l=(o(41),o(78)),c=(o(524),o(525)),d=o.n(c);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}o(2).default.use(d.a);var v={props:["assetId","selectedMonth","assetCode","newRep"],data:function(){return{isImage:!1,isVideo:!0,dialog:!1,imagePath:"",videoPath:"",events:[],input:null,nonce:0,menu:!1,model:null,loading:!1,scrolledToBottom:!1,enableScroll:!1,bottomOfWindow:!1,startDate:new Date,endDate:new Date,lazyLoadingPageSize:5,pageCounter:0,buttonLoader:!1,showLoadMoreBtn:!0}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(l.c)({assetReportData:function(t){return t.reports.assetReportData},isSearchingAssetReport:function(t){return t.reports.isSearchingAssetReport},isLoader:function(t){return t.reports.isLoader},autoLoadMore:function(t){return t.reports.autoLoadMore}})),created:function(){this.scroll()},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.startDate=new Date(t.selectedMonth),t.startDate.setMonth(t.startDate.getMonth()+1),t.startDate.setDate(t.startDate.getDate()-1-t.lazyLoadingPageSize),t.endDate=new Date(t.startDate),t.endDate.setDate(t.endDate.getDate()+t.lazyLoadingPageSize),console.log("start - end",t.startDate,t.endDate),t.enableScroll=!0,t.loading=!0,console.log("this.mediaData && this.selectedMonth",t.assetId,t.selectedMonth),t.assetId&&t.selectedMonth&&t.$store.dispatch("reports/fetchAssetReportLazy",{assetId:t.assetId,month:t.selectedMonth,startDate:t.startDate,endDate:t.endDate,enablePageLoader:!0});case 10:case"end":return e.stop()}}),e)})))()},destroyed:function(){this.enableScroll=!1,console.log("destroyed",this._inactive,this.item),this.$store.dispatch("reports/cleanupReportStates")},methods:{close:function(){this.dialog=!1},dialogMethod:function(t){this.isImage=t.mediaSite.camera.saveImage,this.isVideo=t.mediaSite.camera.saveVideo,this.imagePath=t.originalUrl,this.videoPath=t.videoUrl,this.dialog=!0},scroll:function(){var t=this;window.onscroll=function(){t.enableScroll&&(t.bottomOfWindow=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)+window.innerHeight>=.96*document.documentElement.offsetHeight)}},loadMore:function(){this.startDate.setDate(this.startDate.getDate()-this.lazyLoadingPageSize),this.endDate.setDate(this.endDate.getDate()-this.lazyLoadingPageSize),this.computeLoadingBtn(),new Date(this.selectedMonth).getMonth()!=this.startDate.getMonth()&&new Date(this.selectedMonth).getMonth()==this.endDate.getMonth()&&(this.startDate=new Date(this.endDate),this.startDate.setDate(1)),console.log("start - end - watch",this.startDate,this.endDate),this.assetId&&this.selectedMonth&&new Date(this.selectedMonth).getMonth()==this.startDate.getMonth()&&this.$store.dispatch("reports/fetchAssetReportLazy",{assetId:this.assetId,startDate:this.startDate,endDate:this.endDate})},clearReport:function(){console.log("newRep2",this.newRep),this.$emit("f",this.newRep),this.assetCode="",this.$store.dispatch("reports/clearIfSeraching"),this.$emit("closeReport")},computeLoadingBtn:function(){this.showLoadMoreBtn=new Date(this.selectedMonth).getMonth()==this.startDate.getMonth()}},watch:{isSearchingAssetReport:function(t){console.log("is searching asset report",t),this.loading=t},bottomOfWindow:function(t){t&&(this.startDate.setDate(this.startDate.getDate()-this.lazyLoadingPageSize),this.endDate.setDate(this.endDate.getDate()-this.lazyLoadingPageSize),console.log("start - end - watch",this.startDate,this.endDate),this.computeLoadingBtn(),new Date(this.selectedMonth).getMonth()!=this.startDate.getMonth()&&new Date(this.selectedMonth).getMonth()==this.endDate.getMonth()&&(this.startDate=new Date(this.endDate),this.startDate.setDate(1)),this.assetId&&this.selectedMonth&&new Date(this.selectedMonth).getMonth()==this.startDate.getMonth()&&this.$store.dispatch("reports/fetchAssetReportLazy",{assetId:this.assetId,startDate:this.startDate,endDate:this.endDate}),console.log("reached to bottom"))},autoLoadMore:function(t){t&&this.loadMore()}}},f=v,m=(o(546),o(45)),w=o(56),D=o.n(w),y=o(234),_=o(224),M=o(99),C=o(496),x=o(504),R=o(497),S=o(225),O=o(501),k=o(579),V=o(668),j=o(127),L=o(502),I=o(639),P=o(640),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-card",{attrs:{color:"primary"}},[o("div",{staticClass:"d-flex justify-start flex-wrap"},[o("v-card-title",{staticClass:"justify-start mb-2 py-2",staticStyle:{color:"white"}},[t._v("Asset Report Timeline")]),o("v-spacer"),t._v(" "),o("p",{staticClass:"assetCode mt-3"},[t._v(t._s(t.assetCode))]),t._v(" "),o("v-spacer"),t._v(" "),o("v-btn",{staticClass:"ma-2",on:{click:t.clearReport}},[t._v("Back")])],1)]),t._v(" "),!t.loading&&t.assetReportData&&Object.keys(t.assetReportData).length?o("v-timeline",{attrs:{dense:"",clipped:""}},[o("v-slide-x-transition",{attrs:{group:""}},t._l(t.assetReportData,(function(e,n){return o("v-timeline-item",{key:n,staticClass:"mb-4",attrs:{color:"pink",small:""}},[o("div",{staticClass:"mb-3",attrs:{"hide-dot":""}},[o("h3",[t._v(t._s(n))])]),t._v(" "),o("v-row",{attrs:{justify:"space-between"}},[o("v-col",{attrs:{cols:"12",lg:"12",md:"12"}},[o("v-slide-group",{attrs:{"active-class":"success","show-arrows":""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[t._l(e,(function(e,n){return o("v-slide-item",{key:n},[o("v-card",{staticClass:"mx-2 slider-card"},[e.mediaSite.camera.saveImage?o("span",{attrs:{small:""},on:{click:function(o){return t.dialogMethod(e)}}},[o("img",{staticClass:"white--text align-end image",attrs:{src:e.thumbnailUrl,width:"300px"}}),t._v(" "),o("div",{staticClass:"overlay"},[t._v(t._s(e.time))])]):e.mediaSite.camera.saveVideo?o("span",{attrs:{small:""},on:{click:function(o){return t.dialogMethod(e)}}},[o("img",{staticClass:"white--text align-end image",attrs:{src:e.videoFirstFramePath,width:"300px"}})]):t._e(),t._v(" "),o("div",{staticClass:"overlay"},[t._v(t._s(e.time))])])],1)})),t._v(" "),t.dialog?o("v-dialog",{attrs:{"retain-focus":!1,"max-width":"1000px","hide-overlay":""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-text",[o("v-container",[t.isImage?o("span",[o("img",{staticClass:"white--text align-end image",attrs:{src:t.imagePath,width:"300px"}})]):t.isVideo?o("span",[o("video",{attrs:{id:"video_container",height:"100%",width:"100%",controls:"",autoplay:""}},[o("source",{attrs:{src:t.videoPath,type:"video/mp4"}})])]):t._e()])],1),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"primary darken-1"},on:{click:t.close}},[t._v(" Cancel \n                        ")])],1)],1)],1):t._e()],2)],1)],1)],1)})),1)],1):t._e(),t._v(" "),t.loading||!t.assetReportData||0!=Object.keys(t.assetReportData).length||t.isLoader?t._e():o("h3",{staticClass:"py-5 text-center font-weight-bold primary--text"},[t._v("\n    No data available\n  ")]),t._v(" "),t.loading?o("h3",{staticClass:"py-5 text-center font-weight-bold primary--text"},[o("v-container",{staticStyle:{height:"400px"}},[o("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[o("v-col",{staticClass:"text-subtitle-1 text-center font-weight-bold",attrs:{cols:"12"}},[t._v("\n          Getting your files\n        ")]),t._v(" "),o("v-col",{attrs:{cols:"6"}},[o("v-progress-linear",{attrs:{color:"primary accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1)],1):t._e(),t._v(" "),!t.loading&&t.showLoadMoreBtn?o("v-btn",{staticClass:"black--text",attrs:{dark:"",primary:"",color:"#e0e0e0",elevation:"0",block:"",loading:t.isLoader},on:{click:t.loadMore}},[t._v("Load More")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;D()(component,{VBtn:y.a,VCard:_.a,VCardActions:M.a,VCardText:M.c,VCardTitle:M.d,VCol:C.a,VContainer:x.a,VDialog:R.a,VProgressLinear:S.a,VRow:O.a,VSlideGroup:k.b,VSlideItem:V.a,VSlideXTransition:j.d,VSpacer:L.a,VTimeline:I.a,VTimelineItem:P.a})},576:function(t,e,o){"use strict";o(535)},577:function(t,e,o){var n=o(14)(!1);n.push([t.i,".text-ellipsis[data-v-7b42ff4b]{white-space:nowrap;word-break:normal;overflow:hidden;text-overflow:ellipsis}.card-sensor[data-v-7b42ff4b]{overflow:hidden;cursor:pointer;position:relative}.ico-sensor[data-v-7b42ff4b]{position:absolute;font-size:150px;top:6px;right:-40px;transition:transform .5s ease}.ico-actions[data-v-7b42ff4b]{position:absolute;bottom:0;right:0;z-index:8}.v-card:hover .ico-sensor[data-v-7b42ff4b]{transform:scale(1.5)}.v-card:hover .v-btn[data-v-7b42ff4b]{background-color:#000!important}",""]),t.exports=n},581:function(t,e,o){"use strict";o.r(e);var n={props:["mediaData","selectedMonth","inReport"],components:{AssetReportTimelineVue:o(551).default},data:function(){return{mediaDataID:null,showAssetCards:!0,isShowReport:!1,assetId:null,assetCode:"",newRep:this.inReport}},methods:{f2:function(t){console.log("in asset",t),this.newRep=!0,this.$emit("f5",this.newRep)},navigate:function(data){console.log("dadada",data),data&&data.id&&this.selectedMonth?(this.assetId=data.id,this.isShowReport=!0,this.assetCode=data.assetCode,this.newRep=!1,this.$emit("p",this.newRep),console.log("newRep",this.newRep)):this.$showErrorToast(this,"Please select the required month")},closeReportTimeline:function(){this.$store.dispatch("reports/cleanupReportStates"),this.isShowReport=!1}}},r=(o(576),o(45)),l=o(56),c=o.n(l),d=o(224),h=o(99),v=o(496),f=o(529),m=o(220),w=o(501),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.isShowReport?t._e():o("div",[o("v-row",{attrs:{justify:"start",align:"center"}},t._l(t.mediaData,(function(e){return o("v-col",{key:e.id,attrs:{col:"12",xs:"12",sm:"6",md:"4",lg:"3"}},[o("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.hover;return[o("v-card",{staticClass:"card-sensor",class:{"on-hover":r},attrs:{height:"200px",color:"item.color",elevation:r?16:2}},[o("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[o("div",[o("v-card-title",{staticClass:"text-h5 text-ellipsis font-weight-bold"},[t._v("\n                  "+t._s(e.locality?e.locality+", ":"-")+"\n                  "+t._s(e.city?e.city:"")+"\n                ")]),t._v(" "),o("v-card-subtitle",{staticClass:"py-1 pb-0 font-weight-bold"},[t._v("\n                  "+t._s(e.assetCode?e.assetCode:"-")+"\n                ")]),t._v(" "),o("v-card-subtitle",{staticClass:"py-1"},[t._v("\n                  "+t._s(e.mediaType?e.mediaType.value:"-")+"\n                ")]),t._v(" "),o("v-card-subtitle",{staticClass:"py-1"},[t._v("\n                  "+t._s(e.material?e.material.value:"-")+"\n                ")]),t._v(" "),o("v-card-subtitle",{staticClass:"py-1"},[t._v("\n                  "+t._s("H: "+(e.height?e.height:"-"))+",\n                  "+t._s("W: "+(e.width?e.width:"-"))+"\n                ")]),t._v(" "),o("v-card-subtitle",{staticClass:"py-1"},[t._v("\n                  "+t._s(e.ownedByOrgId?e.ownedByOrgId.name:"-")+"\n                ")])],1)]),t._v(" "),o("v-icon",{staticClass:"ico-sensor",attrs:{color:"#c72027"}},[t._v("mdi-blur")]),t._v(" "),o("div",{staticClass:"ico-actions"},[o("v-icon",{staticClass:"mr-1",attrs:{color:"#c72027"},on:{click:function(o){return t.navigate(e)}}},[t._v("mdi-eye")])],1)],1)]}}],null,!0)})],1)})),1)],1),t._v(" "),t.isShowReport?o("AssetReportTimelineVue",{attrs:{assetId:t.assetId,selectedMonth:t.selectedMonth,assetCode:t.assetCode,newRep:t.newRep},on:{closeReport:t.closeReportTimeline,f:t.f2}}):t._e()],1)}),[],!1,null,"7b42ff4b",null);e.default=component.exports;c()(component,{VCard:d.a,VCardSubtitle:h.b,VCardTitle:h.d,VCol:v.a,VHover:f.a,VIcon:m.a,VRow:w.a})}}]);