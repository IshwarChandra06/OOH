(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{536:function(e,t,r){"use strict";r.r(t);r(10),r(8),r(11),r(12),r(9),r(13);var l=r(3),n=r(24),o=r(1),c=(r(41),r(30),r(67),r(27),r(78));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={props:["showModal"],data:function(){return{textRule:[function(e){return e.length<=100||"Text not more than 100 Characters"}],pinRule:[function(e){return e.length>5||"too short"},function(e){return e.length<7||"invalid"}],dialog:!1,notifications:!1,sound:!0,widgets:!1,e1:1,steps:[{count:1,name:"Information"},{count:2,name:"Attributes"},{count:3,name:"Location"},{count:4,name:"Media & Placement"},{count:5,name:"Demography"},{count:6,name:"Rating"},{count:7,name:"Managed By"}],assetCode:"",vendorAssetCode:"",ownedByOrgId:{},status:{},length:"",width:"",height:"",orientation:null,captureFrequency:null,illumination:null,latitude:"",longitude:"",road:"",locality:"",city:"",district:"",state:"",pincode:"",cityTier:{},mediaClass:null,structureType:null,mediaType:null,placeType:null,material:null,placementType:null,catchmentStrata:null,locationType:null,trafficType:null,trafficDensity:null,trafficSignal:null,trafficSignalList:[{text:"true",value:!0},{text:"false",value:!1}],ageGroup:null,viewingDistance:null,viewingTime:"",quality:"",managedByOrgId:{},managedByStartDate:"",managedByEndDate:"",fromDatePicker:!1,toDatePicker:!1,orientationList:[{id:1,type:"orientation",value:"North"},{id:2,type:"orientation",value:"South"},{id:3,type:"orientation",value:"East"},{id:4,type:"orientation",value:"West"},{id:5,type:"orientation",value:"North East"},{id:6,type:"orientation",value:"North West"},{id:7,type:"orientation",value:"South West"},{id:8,type:"orientation",value:"South East"}],catchmentStrataList:[{id:11,type:"catchmentStrata",value:"High Income Group"},{id:12,type:"catchmentStrata",value:"Low Income Group"},{id:13,type:"catchmentStrata",value:"Medium Income Group"}],trafficDensityList:[{id:21,type:"trafficDensity",value:"High"},{id:22,type:"trafficDensity",value:"Medium"},{id:23,type:"trafficDensity",value:"Low"}],trafficTypeList:[{id:31,type:"trafficType",value:"Pedestrian"},{id:32,type:"trafficType",value:"Private Vehicles"},{id:33,type:"trafficType",value:"Public Transport"}],locationTypeList:[{id:41,type:"locationType",value:"Residential"},{id:42,type:"locationType",value:"Commercial"},{id:43,type:"locationType",value:"Mixed"}],qualityList:[{id:51,type:"quality",value:"1"},{id:52,type:"quality",value:"2"},{id:53,type:"quality",value:"3"},{id:54,type:"quality",value:"4"},{id:55,type:"quality",value:"5"}],illuminationList:[{id:61,type:"illumination",value:"Frontlit"},{id:62,type:"illumination",value:"Backlit"},{id:63,type:"illumination",value:"Unlit"}],cityTierList:[{id:71,type:"cityTier",value:"Metro"},{id:72,type:"cityTier",value:"T1"},{id:73,type:"cityTier",value:"T2"},{id:74,type:"cityTier",value:"T3"},{id:75,type:"cityTier",value:"T4"}],mediaClassList:[{id:81,type:"mediaClass",value:"Roadside"},{id:82,type:"mediaClass",value:"Place Based"},{id:83,type:"mediaClass",value:"Fleet Exterior"}],captureFrequencyList:[{id:91,type:"captureFrequency",value:"Once a day"},{id:92,type:"captureFrequency",value:"Twice a day"},{id:93,type:"captureFrequency",value:"Once in a week"},{id:94,type:"captureFrequency",value:"Once in two weeks"},{id:95,type:"captureFrequency",value:"Once in a month"}],materialList:[{id:111,type:"material",value:"Digital"},{id:112,type:"material",value:"Printed"},{id:113,type:"material",value:"Mesh"},{id:114,type:"material",value:"Paint"}],mediaTypeList:[{id:151,type:"mediaType",value:"Hoarding"},{id:152,type:"mediaType",value:"Unipole"},{id:153,type:"mediaType",value:"Pillar Wrap"},{id:154,type:"mediaType",value:"Pole Wrap"},{id:155,type:"mediaType",value:"Metro Pillar"},{id:156,type:"mediaType",value:"LED Board"},{id:157,type:"mediaType",value:"Trivison"},{id:158,type:"mediaType",value:"Mobile Charging Unit"},{id:159,type:"mediaType",value:"Center Median"},{id:160,type:"mediaType",value:"Balloon and Floatable"},{id:161,type:"mediaType",value:"Wall Painting"},{id:162,type:"mediaType",value:"Bus Shelter"},{id:163,type:"mediaType",value:"Bus Back Panel"}],placementTypeList:[{id:201,type:"placementType",value:"Entrance"},{id:202,type:"placementType",value:"Bathroom"},{id:203,type:"placementType",value:"Baggage"},{id:204,type:"placementType",value:"Concourse"},{id:205,type:"placementType",value:"Dining"},{id:206,type:"placementType",value:"Curbside"}],structureTypeList:[{id:251,type:"structureType",value:"Free Standing"},{id:252,type:"structureType",value:"Furniture"},{id:253,type:"structureType",value:"Interior Wall"},{id:254,type:"structureType",value:"Tablet"},{id:255,type:"structureType",value:"Column"},{id:256,type:"structureType",value:"Ceiling"},{id:257,type:"structureType",value:"Exterior Wall"},{id:258,type:"structureType",value:"Exterior Vehicle"},{id:259,type:"structureType",value:"Floor"},{id:260,type:"structureType",value:"Stairs"},{id:261,type:"structureType",value:"Elevator"},{id:262,type:"structureType",value:"Interior Vehicle"},{id:263,type:"structureType",value:"Rooftop"}],placeTypeList:[{id:301,type:"placeType",value:"Airport"},{id:302,type:"placeType",value:"Metro Station"},{id:303,type:"placeType",value:"Suburban Station"},{id:304,type:"placeType",value:"Mofussil Train Station"},{id:305,type:"placeType",value:"Bus Depot"},{id:306,type:"placeType",value:"Mofussil Bus Depot"},{id:307,type:"placeType",value:"Petrol Station"},{id:308,type:"placeType",value:"Commerical Building"},{id:309,type:"placeType",value:"Residential Building"},{id:310,type:"placeType",value:"Skywalks"},{id:311,type:"placeType",value:"ROB and Underpasses"},{id:312,type:"placeType",value:"Road and Rail Arches"},{id:313,type:"placeType",value:"Middle of the Road"},{id:314,type:"placeType",value:"Side of the Road"},{id:315,type:"placeType",value:"Malls"},{id:316,type:"placeType",value:"Theater"},{id:317,type:"placeType",value:"Road Facing"},{id:318,type:"placeType",value:"Inside the mall"},{id:319,type:"placeType",value:"Inside the Theaters"}],statusList:[{id:401,type:"status",value:"Active"},{id:402,type:"status",value:"Inactive"},{id:403,type:"status",value:"Under  Maintainance"}],ageGroupList:[{id:421,type:"ageGroup",value:"< 18"},{id:422,type:"ageGroup",value:"18-34"},{id:423,type:"ageGroup",value:"35-50"},{id:424,type:"ageGroup",value:"51-69"},{id:425,type:"ageGroup",value:"> 70"}],viewingDistanceList:[{id:431,type:"viewingDistance",value:"< 50m"},{id:432,type:"viewingDistance",value:"upto 100m"},{id:433,type:"viewingDistance",value:"upto 200m"},{id:434,type:"viewingDistance",value:"upto 300m"},{id:435,type:"viewingDistance",value:"upto 400m"},{id:436,type:"viewingDistance",value:"upto 500m"}]}},created:function(){this.$store.dispatch("media/fetchOrganizations"),this.clearAllFields()},computed:v(v({},Object(c.c)({organizationsList:function(e){return e.media.organizationsList}})),{},{showAddModal:{get:function(){return this.showModal},set:function(){this.closeModal()}},computedStartDateFormatted:function(){return this.formatDate(this.managedByStartDate)},computedEndDateFormatted:function(){return this.formatDate(this.managedByEndDate)}}),watch:{steps:function(e){this.e1>e.count&&(this.e1=e.count)},managedByStartDate:function(e){e&&""!=e&&(this.managedByStartDate=new Date(e).toISOString().substring(0,10))},managedByEndDate:function(e){e&&""!=e&&(this.managedByEndDate=new Date(e).toISOString().substring(0,10))},showAddModal:function(){this.clearAllFields()}},methods:{formatDate:function(e){if(!e)return null;var t=e.split("-"),r=Object(n.a)(t,3),l=r[0],o=r[1],c=r[2];return"".concat(l,"/").concat(o,"/").concat(c)},nextStep:function(e){e===this.steps?this.e1=1:this.e1=e+1},submit:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,r={},t.next=4,e.validateInputs();case 4:t.sent?(r.assetCode=e.assetCode,r.vendorAssetCode=e.vendorAssetCode||"",r.ownedByOrgId=e.ownedByOrgId,r.status=e.status||null,r.length=e.length||"",r.width=e.width,r.height=e.height,r.orientation=e.orientation||null,r.captureFrequency=e.captureFrequency||null,r.illumination=e.illumination||null,r.latitude=e.latitude||"",r.longitude=e.longitude||"",r.road=e.road||"",r.locality=e.locality,r.city=e.city,r.district=e.district||"",r.state=e.state||"",r.pincode=e.pincode,r.cityTier=e.cityTier||null,r.mediaClass=e.mediaClass||null,r.structureType=e.structureType||null,r.mediaType=e.mediaType,r.placeType=e.placeType||null,r.material=e.material,r.placementType=e.placementType||null,r.catchmentStrata=e.catchmentStrata||null,r.locationType=e.locationType||null,r.trafficType=e.trafficType||null,r.trafficDensity=e.trafficDensity||null,r.trafficSignal=e.trafficSignal||null,r.ageGroup=e.ageGroup||null,r.viewingDistance=e.viewingDistance||null,r.viewingTime=e.viewingTime||"",r.quality=e.quality||null,r.managedByOrgId=e.managedByOrgId||null,r.managedByStartDate=e.managedByStartDate||"",r.managedByEndDate=e.managedByEndDate||"",e.$store.dispatch("media/addMediaData",r).then((function(){e.loading=!1,e.showModal=!1,e.dialog=!1,e.$showSuccessToast(e,"Media page Updated Successfully"),e.closeModal()})).catch((function(e){console.error("errors",e)}))):(e.$showErrorToast(e,"Please enter the required field"),e.loading=!1);case 6:case"end":return t.stop()}}),t)})))()},closeModal:function(){this.$emit("close")},validateInputs:function(){return!!(this.assetCode&&this.ownedByOrgId&&this.width&&this.height&&this.locality&&this.city&&this.pincode&&this.mediaType&&this.material&&this.managedByOrgId)},clearAllFields:function(){this.assetCode="",this.vendorAssetCode="",this.ownedByOrgId="",this.status=null,this.length="",this.width="",this.height="",this.orientation=null,this.captureFrequency=null,this.illumination=null,this.latitude="",this.longitude="",this.road="",this.locality="",this.city="",this.district="",this.state="",this.pincode="",this.cityTier=null,this.mediaClass=null,this.structureType=null,this.mediaType="",this.placeType=null,this.material="",this.placementType=null,this.catchmentStrata=null,this.locationType=null,this.trafficType=null,this.trafficDensity=null,this.trafficSignal=null,this.ageGroup=null,this.viewingDistance=null,this.viewingTime="",this.quality=null,this.managedByOrgId=null,this.managedByStartDate="",this.managedByEndDate=""}},beforeDestroy:function(){this.closeModal()}},h=r(45),f=r(56),y=r.n(f),x=r(528),T=r(234),w=r(224),D=r(99),_=r(496),C=r(756),O=r(497),S=r(485),k=r(220),F=r(486),P=r(501),M=r(502),B=r(511),j=r(512),I=r(507),E=r(513),L=r(482),V=r(73),$=r(506),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.showAddModal,callback:function(t){e.showAddModal=t},expression:"showAddModal"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.$emit("close")}}},[r("v-icon",[e._v("mdi-close")])],1),e._v(" "),r("v-toolbar-title",[e._v("Add Media")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",text:""},on:{click:e.submit}},[r("v-icon",{attrs:{color:"white"}},[e._v(" mdi-floppy ")]),e._v(" Save\n          ")],1)],1)],1),e._v(" "),r("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[r("v-stepper-header",[e._l(e.steps,(function(t){return[r("v-stepper-step",{key:t.count+"-step",attrs:{complete:e.e1>t.count,step:t.count,editable:""}},[e._v("\n              "+e._s(t.name)+"\n            ")]),e._v(" "),t.count!==e.steps?r("v-divider",{key:t.count}):e._e()]}))],2),e._v(" "),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-card",{staticClass:"mb-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-text-field",{ref:"assetCode",attrs:{label:"Asset Code*",required:"",maxlength:"101",counter:"100",rules:e.textRule},model:{value:e.assetCode,callback:function(t){e.assetCode=t},expression:"assetCode"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-text-field",{ref:"vendorAssetCode",attrs:{label:"Vendor Asset Code",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.vendorAssetCode,callback:function(t){e.vendorAssetCode=t},expression:"vendorAssetCode"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.organizationsList,label:"Owned By*","item-text":"name"},model:{value:e.ownedByOrgId,callback:function(t){e.ownedByOrgId=t},expression:"ownedByOrgId"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.statusList,"item-text":"value",label:"Status"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}})],1)],1)],1)],1),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=2}}},[e._v(" Continue ")])],1),e._v(" "),r("v-stepper-content",{attrs:{step:"2"}},[r("v-card",{staticClass:"mb-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"length",attrs:{label:"Length (in ft)",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.length,callback:function(t){e.length=t},expression:"length"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"width",attrs:{label:"Width (in ft)*",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.width,callback:function(t){e.width=t},expression:"width"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"height",attrs:{label:"Base Height (in ft)*",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.height,callback:function(t){e.height=t},expression:"height"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.orientationList,"item-text":"value",label:"Orientation"},model:{value:e.orientation,callback:function(t){e.orientation=t},expression:"orientation"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.captureFrequencyList,"item-text":"value",label:"Capture Frequency"},model:{value:e.captureFrequency,callback:function(t){e.captureFrequency=t},expression:"captureFrequency"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.illuminationList,"item-text":"value",label:"Illumination"},model:{value:e.illumination,callback:function(t){e.illumination=t},expression:"illumination"}})],1)],1)],1)],1),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=3}}},[e._v(" Continue ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=1}}},[e._v(" Back ")])],1),e._v(" "),r("v-stepper-content",{attrs:{step:"3"}},[r("v-card",{staticClass:"mb-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"latitude",attrs:{label:"Latitude",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.latitude,callback:function(t){e.latitude=t},expression:"latitude"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"longitude",attrs:{label:"Longitude",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.longitude,callback:function(t){e.longitude=t},expression:"longitude"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"road",attrs:{label:"Road",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.road,callback:function(t){e.road=t},expression:"road"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"locality",attrs:{label:"Locality*",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.locality,callback:function(t){e.locality=t},expression:"locality"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"city",attrs:{label:"City*",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"district",attrs:{label:"District",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.district,callback:function(t){e.district=t},expression:"district"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"state",attrs:{label:"State",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-text-field",{ref:"pincode",attrs:{label:"Pincode*",required:"",maxlength:"6",rules:e.pinRule,counter:"6",type:"number"},model:{value:e.pincode,callback:function(t){e.pincode=t},expression:"pincode"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.cityTierList,"item-text":"value",label:"City Tier"},model:{value:e.cityTier,callback:function(t){e.cityTier=t},expression:"cityTier"}})],1)],1)],1)],1),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=4}}},[e._v(" Continue ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=2}}},[e._v(" Back ")])],1),e._v(" "),r("v-stepper-content",{attrs:{step:"4"}},[r("v-card",{staticClass:"mb-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.mediaClassList,"item-text":"value",label:"Media Class"},model:{value:e.mediaClass,callback:function(t){e.mediaClass=t},expression:"mediaClass"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.structureTypeList,"item-text":"value",label:"Structure Type"},model:{value:e.structureType,callback:function(t){e.structureType=t},expression:"structureType"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.mediaTypeList,"item-text":"value",label:"Media Type*"},model:{value:e.mediaType,callback:function(t){e.mediaType=t},expression:"mediaType"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.placeTypeList,"item-text":"value",label:"Place Type"},model:{value:e.placeType,callback:function(t){e.placeType=t},expression:"placeType"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.materialList,"item-text":"value",label:"Material*"},model:{value:e.material,callback:function(t){e.material=t},expression:"material"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.placementTypeList,"item-text":"value",label:"Placement Type"},model:{value:e.placementType,callback:function(t){e.placementType=t},expression:"placementType"}})],1)],1)],1)],1),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=5}}},[e._v(" Continue ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=3}}},[e._v(" Back ")])],1),e._v(" "),r("v-stepper-content",{attrs:{step:"5"}},[r("v-card",{staticClass:"mb-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.catchmentStrataList,"item-text":"value",label:"Catchment Strata"},model:{value:e.catchmentStrata,callback:function(t){e.catchmentStrata=t},expression:"catchmentStrata"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.locationTypeList,"item-text":"value",label:"Location Type"},model:{value:e.locationType,callback:function(t){e.locationType=t},expression:"locationType"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.trafficTypeList,"item-text":"value",label:"Traffic Type"},model:{value:e.trafficType,callback:function(t){e.trafficType=t},expression:"trafficType"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.trafficDensityList,"item-text":"value","item-value":"id",label:"Traffic Density"},model:{value:e.trafficDensity,callback:function(t){e.trafficDensity=t},expression:"trafficDensity"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{items:e.trafficSignalList,"item-text":"value",label:"Traffic Signal"},model:{value:e.trafficSignal,callback:function(t){e.trafficSignal=t},expression:"trafficSignal"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"4"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.ageGroupList,"item-text":"value",label:"Age Group"},model:{value:e.ageGroup,callback:function(t){e.ageGroup=t},expression:"ageGroup"}})],1)],1)],1)],1),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=6}}},[e._v(" Continue ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=4}}},[e._v(" Back ")])],1),e._v(" "),r("v-stepper-content",{attrs:{step:"6"}},[r("v-card",{staticClass:"mb-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.viewingDistanceList,"item-text":"value","item-value":"id",label:"Viewing Distance (in ft)",required:""},model:{value:e.viewingDistance,callback:function(t){e.viewingDistance=t},expression:"viewingDistance"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-text-field",{ref:"viewingTime",attrs:{label:"Viewing Time",required:"",maxlength:"101",rules:e.textRule,counter:"100"},model:{value:e.viewingTime,callback:function(t){e.viewingTime=t},expression:"viewingTime"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.qualityList,"item-text":"value","item-value":"id",label:"Class"},model:{value:e.quality,callback:function(t){e.quality=t},expression:"quality"}})],1)],1)],1)],1),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=7}}},[e._v(" Continue ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=5}}},[e._v(" Back ")])],1),e._v(" "),r("v-stepper-content",{attrs:{step:"7"}},[r("v-card",{staticClass:"mb-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-autocomplete",{attrs:{"return-object":"",items:e.organizationsList,"item-text":"name",label:"Managed By*"},model:{value:e.managedByOrgId,callback:function(t){e.managedByOrgId=t},expression:"managedByOrgId"}})],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on,n=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{label:"From Date","prepend-icon":"mdi-calendar"},model:{value:e.computedStartDateFormatted,callback:function(t){e.computedStartDateFormatted=t},expression:"computedStartDateFormatted"}},"v-text-field",n,!1),l))]}}]),model:{value:e.fromDatePicker,callback:function(t){e.fromDatePicker=t},expression:"fromDatePicker"}},[e._v(" "),r("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.managedByStartDate,callback:function(t){e.managedByStartDate=t},expression:"managedByStartDate"}})],1)],1),e._v(" "),r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6"}},[r("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on,n=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{label:"To Date","prepend-icon":"mdi-calendar"},model:{value:e.computedEndDateFormatted,callback:function(t){e.computedEndDateFormatted=t},expression:"computedEndDateFormatted"}},"v-text-field",n,!1),l))]}}]),model:{value:e.toDatePicker,callback:function(t){e.toDatePicker=t},expression:"toDatePicker"}},[e._v(" "),r("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.managedByEndDate,callback:function(t){e.managedByEndDate=t},expression:"managedByEndDate"}})],1)],1)],1)],1)],1),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:e.submit}},[e._v(" Save ")]),e._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=6}}},[e._v(" Back ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;y()(component,{VAutocomplete:x.a,VBtn:T.a,VCard:w.a,VCardText:D.c,VCol:_.a,VDatePicker:C.a,VDialog:O.a,VDivider:S.a,VIcon:k.a,VMenu:F.a,VRow:P.a,VSpacer:M.a,VStepper:B.a,VStepperContent:j.a,VStepperHeader:I.a,VStepperItems:I.b,VStepperStep:E.a,VTextField:L.a,VToolbar:V.a,VToolbarItems:$.a,VToolbarTitle:$.b})},537:function(e,t,r){"use strict";r.r(t);var l={props:["page"],data:function(){return{currentPage:this.$route.query.page?parseInt(this.$route.query.page):1}},computed:{totalPages:function(){return console.log("page in pagination",this.page),this.page&&"mediaListNew"==this.page?(this.$store.state.campaignMedia&&this.$store.state.campaignMedia.totalPages&&console.log("toatal pages",this.$store.state.campaignMedia.totalPages),this.$store.state.campaignMedia&&this.$store.state.campaignMedia.totalPages):this.page&&"mediaList"==this.page?(this.$store.state.media&&this.$store.state.media.totalPages&&console.log("toatal pages",this.$store.state.media.totalPages),this.$store.state.media&&this.$store.state.media.totalPages):null}},methods:{clicked:function(e){this.currentPage=e,this.$emit("changePage",e),this.$router.push("?page=".concat(e))}},watch:{$route:function(e,t){"/"===e.fullPath&&(console.log("watching in pagination"),this.currentPage=1)}}},n=r(45),o=r(56),c=r.n(o),d=r(580),component=Object(n.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-center page"},[e.totalPages&&e.totalPages?r("v-pagination",{staticClass:"custom",attrs:{length:e.totalPages&&e.totalPages,circle:""},on:{input:e.clicked},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e(),e._v(" "),e.totalPages&&e.totalPages?r("div",{staticClass:"caption grey--text"},[e._v("\n    Page "+e._s(e.currentPage)+" of "+e._s(e.totalPages&&e.totalPages)+"\n  ")]):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{VPagination:d.a})},566:function(e,t,r){var content=r(597);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("87d4c41c",content,!0,{sourceMap:!1})},568:function(e,t){},596:function(e,t,r){"use strict";r(566)},597:function(e,t,r){var l=r(14)(!1);l.push([e.i,".text-ellipsis[data-v-3961768a]{white-space:nowrap;word-break:normal;overflow:hidden;text-overflow:ellipsis}.card-sensor[data-v-3961768a]{overflow:hidden;cursor:pointer;position:relative}.ico-sensor[data-v-3961768a]{position:absolute;font-size:150px;top:6px;right:-40px;transition:transform .5s ease}.ico-actions[data-v-3961768a]{position:absolute;bottom:0;right:0;z-index:8}.v-card:hover .ico-sensor[data-v-3961768a]{transform:scale(1.5)}.v-card:hover .v-btn[data-v-3961768a]{background-color:#000!important}",""]),e.exports=l},603:function(e,t){},604:function(e,t){},636:function(e,t,r){"use strict";r.r(t);r(10),r(8),r(11),r(12),r(9),r(13);var l=r(1),n=r(78);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var c={props:["mediaData"],data:function(){return{dialogDelete:!1,mediaDataID:null}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(n.c)({userPrivileges:function(e){return e.userPrivileges}})),methods:{update:function(data){this.$router.push({name:"media-view-id",params:{id:data.id}})},navigate:function(data){this.$router.push({name:"media-view-block-id",params:{id:data.id}})},deleteMediaModal:function(data){this.dialogDelete=!0,this.mediaDataID=data.id},deleteMedia:function(){var e=this;null!=this.mediaDataID&&(this.$store.dispatch("media/deleteMediaData",this.mediaDataID).then((function(){e.$showSuccessToast(e,"Deleted Successfully")})).catch((function(){e.$showErrorToast(e,"Error !")})),this.dialogDelete=!1)}}},d=c,v=(r(596),r(45)),m=r(56),h=r.n(m),f=r(234),y=r(224),x=r(99),T=r(496),w=r(497),D=r(529),_=r(220),C=r(501),O=r(502),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.mediaData?r("v-row",{attrs:{justify:"start",align:"center"}},e._l(e.mediaData,(function(t){return r("v-col",{key:t.id,attrs:{col:"12",xs:"12",sm:"6",md:"4",lg:"3"}},[r("v-hover",{attrs:{"open-delay":"200"},scopedSlots:e._u([{key:"default",fn:function(l){var n=l.hover;return[r("v-card",{staticClass:"card-sensor mt-2",class:{"on-hover":n},attrs:{height:"200px",color:"item.color",elevation:n?16:2}},[r("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[r("div",[r("v-card-title",{staticClass:"text-h5 text-ellipsis font-weight-bold"},[e._v("\n                "+e._s(t.locality?t.locality+", ":"-")+"\n                "+e._s(t.city?t.city:"")+"\n              ")]),e._v(" "),r("v-card-subtitle",{staticClass:"py-1 pb-0 font-weight-bold"},[e._v("\n                "+e._s(t.assetCode?t.assetCode:"-")+"\n              ")]),e._v(" "),r("v-card-subtitle",{staticClass:"py-1"},[e._v("\n                "+e._s(t.mediaType?t.mediaType.value:"-")+"\n              ")]),e._v(" "),r("v-card-subtitle",{staticClass:"py-1"},[e._v("\n                "+e._s(t.material?t.material.value:"-")+"\n              ")]),e._v(" "),r("v-card-subtitle",{staticClass:"py-1"},[e._v("\n                "+e._s("H: "+(t.height?t.height:"-"))+",\n                "+e._s("W: "+(t.width?t.width:"-"))+"\n              ")]),e._v(" "),r("v-card-subtitle",{staticClass:"py-1"},[e._v("\n                "+e._s(t.ownedByOrgId?t.ownedByOrgId.name:"-")+"\n              ")])],1)]),e._v(" "),r("v-icon",{staticClass:"ico-sensor",attrs:{color:"#c72027"}},[e._v("mdi-blur")]),e._v(" "),r("div",{staticClass:"ico-actions"},[r("v-icon",{attrs:{color:"#c72027"},on:{click:function(r){return e.navigate(t)}}},[e._v("mdi-eye")]),e._v(" "),e.userPrivileges[e.$route.name]&&e.userPrivileges[e.$route.name].includes("update")?r("v-icon",{attrs:{color:"#c72027"},on:{click:function(r){return e.update(t)}}},[e._v("mdi-pencil")]):e._e(),e._v(" "),e.userPrivileges[e.$route.name]&&e.userPrivileges[e.$route.name].includes("delete")?r("v-icon",{attrs:{color:"#c72027"},on:{click:function(r){return e.deleteMediaModal(t)}}},[e._v("mdi-delete")]):e._e()],1)],1)]}}],null,!0)})],1)})),1):e._e(),e._v(" "),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline justify-center"},[e._v("Are you sure you want to delete?")]),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary darken-1"},on:{click:function(t){e.dialogDelete=!1}}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{color:"primary darken-1"},on:{click:e.deleteMedia}},[e._v("OK")]),e._v(" "),r("v-spacer")],1)],1)],1)],1)}),[],!1,null,"3961768a",null);t.default=component.exports;h()(component,{VBtn:f.a,VCard:y.a,VCardActions:x.a,VCardSubtitle:x.b,VCardTitle:x.d,VCol:T.a,VDialog:w.a,VHover:D.a,VIcon:_.a,VRow:C.a,VSpacer:O.a})},645:function(e,t,r){var content=r(706);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("d7b370cc",content,!0,{sourceMap:!1})},705:function(e,t,r){"use strict";r(645)},706:function(e,t,r){var l=r(14)(!1);l.push([e.i,".pagination{position:absolute;display:flex;justify-content:center;bottom:0;width:100%}.inner-text{text-align:center;position:absolute;left:50%;top:90%;transform:translate(-50%,-50%)}.inner-text span{font-size:24px;font-weight:700}.v-label{margin-top:.2rem;margin-left:.3rem;font-weight:400}.v-text-field input{padding-left:.4rem}.v-application .ma-2{padding:1.5rem 1rem}.v-chip .v-chip__content{font-weight:700}.theme--light.v-label,.v-text-field input{font-weight:400}.v-chip,.v-chip.v-size--default{border-radius:3rem}.v-sheet.v-card{border-radius:0}.v-application .mb-2{margin-bottom:0!important}",""]),e.exports=l},761:function(e,t,r){"use strict";r.r(t);r(8),r(12),r(13);var l=r(57),n=r(24),o=r(3),c=r(1),d=(r(41),r(319),r(10),r(68),r(30),r(67),r(9),r(27),r(11),r(66),r(78)),v=r(636),m=r(536),h=r(2),f=r(543),y=r(526),x=r(598),T=r.n(x),w=r(537);function D(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}h.default.component("downloadExcel",f.a);var C={components:{MediaList:v.default,AddMedia:m.default,PaginationBar:w.default},data:function(){return{uploadMedia:"",searchMedia:"",loading:!1,pageNumber:1,itemsPerPage:8,sortField:"",sortOrder:"asc",orgId:0,searchData:{},noData:!1,showModal:!1,showImportModal:!1,uploadMediaCSV:[],media_fields:{assetCode:"assetCode",vendorAssetCode:"vendorAssetCode",ownedByOrgId:"ownedByOrgId",status:"status",viewingDistance:"ownedByOrgId",viewingTime:"viewingTime",quality:"quality",length:"length",width:"width",height:"height",orientation:"orientation",captureFrequency:"captureFrequency",illumination:"illumination",mediaClass:"mediaClass",structureType:"structureType",mediaType:"mediaType",placeType:"placeType",material:"material",placementType:"placementType",catchmentStrata:"catchmentStrata",locationType:"locationType",trafficType:"trafficType",trafficDensity:"trafficDensity",trafficSignal:"trafficSignal",ageGroup:"ageGroup",latitude:"latitude",longitude:"longitude",road:"road",locality:"locality",city:"city",district:"district",state:"state",pincode:"pincode",cityTier:"cityTier",managedByOrgId:"managedByOrgId",managedByStartDate:"managedByStartDate",managedByEndDate:"managedByEndDate"},json_fields_download:{assetCode:"assetCode",vendorAssetCode:"vendorAssetCode",ownedByOrgId:"ownedByOrgId.name",status:"status.value",viewingDistance:"viewingDistance.value",viewingTime:"viewingTime",quality:"quality.value",length:"length",width:"width",height:"height",orientation:"orientation.value",captureFrequency:"captureFrequency.value",illumination:"illumination.value",mediaClass:"mediaClass.value",structureType:"structureType.value",mediaType:"mediaType.value",placeType:"placeType.value",material:"material.value",placementType:"placementType.value",catchmentStrata:"catchmentStrata.value",locationType:"locationType.value",trafficType:"trafficType.value",trafficDensity:"trafficDensity.value",trafficSignal:"trafficSignal",ageGroup:"ageGroup.value",latitude:"latitude",longitude:"longitude",road:"road",locality:"locality",city:"city",district:"district",state:"state",pincode:"pincode",cityTier:"cityTier.value",managedByOrgId:"managedByOrgId.name",managedByStartDate:"managedByStartDate",managedByEndDate:"managedByEndDate"},json_fields:{assetCode:"assetCode",vendorAssetCode:"vendorAssetCode",ownedByOrgId:"ownedByOrgId",status:"status",viewingDistance:"viewingDistance",viewingTime:"viewingTime",quality:"quality",length:"length",width:"width",height:"height",orientation:"orientation",captureFrequency:"captureFrequency",illumination:"illumination",mediaClass:"mediaClass",structureType:"structureType",mediaType:"mediaType",placeType:"placeType",material:"material",placementType:"placementType",catchmentStrata:"catchmentStrata",locationType:"locationType",trafficType:"trafficType",trafficDensity:"trafficDensity",trafficSignal:"trafficSignal",ageGroup:"ageGroup",latitude:"latitude",longitude:"longitude",road:"road",locality:"locality",city:"city",district:"district",state:"state",pincode:"pincode",cityTier:"cityTier",managedByOrgId:"managedByOrgId",managedByStartDate:"managedByStartDate",managedByEndDate:"managedByEndDate"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],mediaSchema:{id:"",assetCode:"",vendorAssetCode:"",ownedByOrgId:"",status:"",length:"",width:"",height:"",orientation:"",captureFrequency:"",illumination:"",latitude:"",longitude:"",road:"",locality:"",city:"",district:"",state:"",pincode:"",cityTier:null,mediaClass:"",structureType:"",mediaType:"",placeType:"",material:"",placementType:"",catchmentStrata:"",locationType:"",trafficType:"",trafficDensity:"",trafficSignal:"",ageGroup:"",viewingDistance:"",viewingTime:"",quality:"",managedByStartDate:"",managedByEndDate:"",managedByOrgId:""},tableFields:[],selectedFields:[],chipFields:[],chipFilterObj:{}}},created:function(){},computed:_({},Object(d.c)({mediaData:function(e){return e.media.mediaData},userPrivileges:function(e){return e.userPrivileges},isMediaSearching:function(e){return e.media.isMediaSearching}})),mounted:function(){var e=this;this.triggerApi(),window.addEventListener("keyup",(function(t){13===t.keyCode&&e.searchFilter()})),this.setTableFields()},methods:{onPageChange:function(e){console.log("listening to emit in mdeia.vue",e),e>0&&(this.pageNumber=e),this.triggerApi()},triggerApi:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("triggerApi"),r={searchData:{},pageNo:e.pageNumber||1,pageSize:e.itemsPerPage||8},e.sort&&(r.sortField=e.sort),e.sortDirection&&(r.sortOrder=e.sortDirection),t.next=6,e.grabChipFilter();case 6:e.chipFilterObj&&Object.keys(e.chipFilterObj).length&&(r.searchData=_(_({},r.searchData),e.chipFilterObj)),e.$store.dispatch("media/fetchMediaWithFilter",r);case 8:case"end":return t.stop()}}),t)})))()},readExcelFile:function(e){var t=this;try{if(!this.uploadMediaCSV)return;if(!e)return void this.$showWarningToast(this,"Unable to validate file!");var r=new FileReader;r.onload=function(e){var r=e.target.result,l=T.a.read(r,{type:"binary"}),n=l.SheetNames[0],o=l.Sheets[n],data=T.a.utils.sheet_to_json(o,{header:1});console.log("excel",data);for(var c=[],d=data[0],i=1;i<data.length;i++){for(var v={},m=data[i],h=0;h<d.length;h++){var head=t.json_fields[d[h].trim()]||d[h].trim(),f=m[h]?m[h]+"":m[h];if(head&&head.length>0)if(head.indexOf(".")>-1){var y=head.split(".");v[y[0].trim()]={},v[y[0].trim()][y[1].trim()]=!!(f&&f.length>0&&"true"==f.toLowerCase())||(!f||"false"!=f.toLowerCase())&&(f||"")}else v[head]=!!(f&&f.length>0&&"true"==f.toLowerCase())||(!f||"false"!=f.toLowerCase())&&(f||"")}c.push(v)}t.$showProgressToast(t,"Importing Excel"),t.$store.dispatch("media/importMedia",c).then((function(){t.$showSuccessToast(t,"Excel Imported"),t.showImportModal=!1,t.uploadMediaCSV=null,t.$store.dispatch("media/fetchMedia")})).catch((function(e){console.error("errors",e),t.$showErrorToast(t,"Import Failed"),console.log(),t.showImportModal=!0}))},r.readAsBinaryString(e)}catch(e){e.response&&e.response.data&&e.response.data.data?this.$showErrorToast(this,e.response.data.data):this.$showErrorToast(this,"Error Importing")}},fetchData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("media/exportMedia");case 2:return(r=t.sent)&&r.length&&r.forEach((function(t){if(t.managedByStartDate){var r=new Date(t.managedByStartDate).toISOString().substring(0,10);t.managedByStartDate=e.formatDate(r)}if(t.managedByEndDate){var l=new Date(t.managedByEndDate).toISOString().substring(0,10);t.managedByEndDate=e.formatDate(l)}})),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},formatDate:function(e){if(!e)return null;var t=e.split("-"),r=Object(n.a)(t,3),l=r[0],o=r[1],c=r[2];return"".concat(c,"/").concat(o,"/").concat(l)},getFileName:function(e){return"Media-Data-"+(new Date).getTime()+"."+e},searchFilter:function(){this.loading=!0;var e={pageNo:this.pageNumber,pageSize:this.itemsPerPage,sortField:this.sortField,sortOrder:this.sortOrder,orgId:this.orgId};if(this.searchMedia){var t=this.searchMedia.split(","),r=t.filter((function(e){return null!=e&&e.trim().length>0}));t=r.map((function(s){return s.trim()})),e.searchData={assetCode:t},this.loading=!1,this.$store.dispatch("media/fetchMedia",e),this.noData=!1}else e.searchMedia={},this.$store.dispatch("media/fetchMedia",e),this.loading=!1,this.noData=!0},sortOrderAction:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.noData=!1,e.sortOrder="asc"!==e.sortOrder?"asc":"dec",r={searchData:e.searchData,pageNo:e.pageNumber,pageSize:e.itemsPerPage,sortField:e.sortField,sortOrder:e.sortOrder,orgId:e.orgId},t.next=6,e.grabChipFilter();case 6:e.chipFilterObj&&Object.keys(e.chipFilterObj).length&&(r.searchData=_(_({},r.searchData),e.chipFilterObj)),e.$store.dispatch("media/fetchMedia",r).catch((function(e){console.error("errors",e)})),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},addMedia:function(){this.showModal=!0},grabChipFilter:function(){if(this.chipFields&&this.chipFields.length){var e={};this.chipFields.forEach((function(t){t=JSON.parse(JSON.stringify(t)),e[t.field]=t.searchKey})),this.chipFilterObj=e}else this.chipFilterObj={}},clearRecord:function(){this.searchMedia="";var e={searchData:this.searchData,pageNo:this.pageNumber,pageSize:this.itemsPerPage,sortField:this.sortField,sortOrder:this.sortOrder,orgId:this.orgId};this.$store.dispatch("media/fetchMedia",e).catch((function(e){console.log("errors",e)})),this.loading=!1},closePopup:function(){this.showModal=!1,this.noData=!1},updateSelectedFields:function(e){this.chipFields=this.chipFields.filter((function(t){return t.field!==e.field})),this.selectedFields=this.selectedFields.filter((function(t){return t.field!==e.field}))},trigerFilter:function(e){var t={searchData:{},pageNo:1,pageSize:this.itemsPerPage};if(this.sort&&(t.sortField=this.sort),this.sortDirection&&(t.sortOrder=this.sortDirection),this.chipFields&&this.chipFields.length){var r={};this.chipFields.forEach((function(e){e=JSON.parse(JSON.stringify(e)),r[e.field]=e.searchKey})),t.searchData=r}e&&13==e.keyCode&&this.$store.dispatch("media/fetchMediaWithFilter",t)},preparePayload:function(){var e={searchData:{},pageNo:1,pageSize:this.itemsPerPage||8};if(this.sort&&(e.sortField=this.sort),this.sortDirection&&(e.sortOrder=this.sortDirection),this.chipFields&&this.chipFields.length){var t={};this.chipFields.forEach((function(e){e=JSON.parse(JSON.stringify(e)),t[e.field]=e.value})),e.searchData=t}return e},setTableFields:function(){var e=this;this.mediaSchema&&Object.keys(this.mediaSchema).length&&Object.keys(this.mediaSchema).forEach((function(t){e.tableFields.push({field:t,searchKey:""})}))},onChangeFilter:y.debounce((function(){var e={searchData:{},pageNo:1,pageSize:this.itemsPerPage||8};if(this.sort&&(e.sortField=this.sort),this.sortDirection&&(e.sortOrder=this.sortDirection),this.chipFields&&this.chipFields.length){var t={};this.chipFields.forEach((function(e){e=JSON.parse(JSON.stringify(e)),t[e.field]=e.searchKey})),e.searchData=t}this.$store.dispatch("media/fetchMediaWithFilter",e)}),1500)},watch:{isMediaSearching:function(e){this.loading=e},selectedFields:function(e){var t=this;if(e){var r=e.filter((function(e){var r=e.field;return!t.chipFields.some((function(e){return e.field===r}))})),n=this.chipFields.filter((function(t){var r=t.field;return!e.some((function(e){return e.field===r}))}));if(r&&r.length&&(this.chipFields=[].concat(Object(l.a)(this.chipFields),Object(l.a)(r))),n&&n.length){var o=this.chipFields.filter((function(e){var t=e.field;return!n.some((function(e){return e.field===t}))}));this.chipFields=o}this.chipFields=JSON.parse(JSON.stringify(this.chipFields))}},isSerching:function(e){this.loading=e},chipFields:function(e){e&&!e.length&&this.$store.dispatch("media/fetchMediaWithFilter")}}},O=(r(705),r(45)),S=r(56),k=r.n(S),F=r(528),P=r(234),M=r(224),B=r(99),j=r(591),I=r(496),E=r(504),L=r(497),V=r(646),$=r(220),A=r(225),R=r(501),N=r(502),G=r(482),z=r(73),component=Object(O.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",{staticClass:" d-flex flex-wrap",attrs:{color:"primary"}},[r("v-card-title",{staticClass:"justify-start",staticStyle:{color:"white"}},[e._v("Media")]),r("v-spacer"),e._v(" "),r("v-autocomplete",{staticClass:"mr-6",attrs:{label:"Add Filter",items:e.tableFields,required:"",multiple:"","return-object":"","item-text":"field","item-value":"field",color:"white",dark:"","z-index":"10"},model:{value:e.selectedFields,callback:function(t){e.selectedFields=t},expression:"selectedFields"}}),e._v(" "),r("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-magnify ")]),e._v(" "),r("v-btn",{staticClass:"mr-5 mt-4",attrs:{fab:"",small:"",color:"white darken-4"},on:{click:e.sortOrderAction}},["asc"==this.sortOrder?r("v-icon",{attrs:{color:"primary"}},[e._v("\n        mdi-arrow-up\n      ")]):"dec"==this.sortOrder?r("v-icon",{attrs:{color:"primary"}},[e._v("\n        mdi-arrow-down\n      ")]):r("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-arrow-up ")])],1),e._v(" "),e.userPrivileges[e.$route.name]&&e.userPrivileges[e.$route.name].includes("add")?r("v-btn",{staticClass:"mt-4 mr-2",on:{click:function(t){return t.stopPropagation(),e.addMedia.apply(null,arguments)}}},[e._v("\n      Add New\n    ")]):e._e(),e._v(" "),e.userPrivileges[e.$route.name]&&e.userPrivileges[e.$route.name].includes("add")?r("v-btn",{staticClass:"mt-4 mr-2",on:{click:function(t){e.showImportModal=!0}}},[e._v("\n      Import\n    ")]):e._e(),e._v(" "),r("v-btn",{staticClass:"mt-4 mr-2"},[r("download-excel",{attrs:{fields:e.json_fields_download,fetch:e.fetchData,worksheet:"Media Data",type:"csv",name:e.getFileName("csv")}},[e._v("\n        CSV\n        "),r("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-download ")])],1)],1),e._v(" "),r("v-btn",{staticClass:"mt-4 mr-2"},[r("download-excel",{attrs:{fields:e.json_fields_download,fetch:e.fetchData,worksheet:"mediaData",name:e.getFileName("xls")}},[e._v("\n        Excel\n        "),r("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-download ")])],1)],1)],1),e._v(" "),r("v-card",{attrs:{dark:"",color:"primary",flat:""}},[e.chipFields&&e.chipFields.length?r("div",e._l(e.chipFields,(function(t,l){return r("v-chip",{key:l,staticClass:"ma-2",attrs:{close:"",color:"rgba(255,255,255,.15)"},on:{"click:close":function(r){return e.updateSelectedFields(t)}}},[e._v("\n        "+e._s(t.field)+" :\n        "),r("v-text-field",{attrs:{label:"value",flat:"","single-line":"",width:"50px"},on:{keydown:e.trigerFilter,input:e.onChangeFilter},model:{value:t.searchKey,callback:function(r){e.$set(t,"searchKey",r)},expression:"item.searchKey"}})],1)})),1):e._e()]),e._v(" "),r("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},model:{value:e.showImportModal,callback:function(t){e.showImportModal=t},expression:"showImportModal"}},[r("v-card",[r("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Import Media"),r("v-spacer"),e._v(" "),r("v-btn",{staticClass:"mt-2 mr-2",attrs:{href:"/excel-templates/Media-Data.xlsx",download:"Media-Data.xlsx",target:"_blank",light:""}},[r("v-icon",{attrs:{left:"",dark:""}},[e._v(" mdi-download ")]),e._v(" Template\n        ")],1)],1),e._v(" "),r("v-card-text",[r("v-file-input",{ref:"file",staticClass:"mt-3",attrs:{accept:".xls,.xlsx",placeholder:"Upload",label:"Upload",type:"file",clearable:""},on:{change:e.readExcelFile},model:{value:e.uploadMediaCSV,callback:function(t){e.uploadMediaCSV=t},expression:"uploadMediaCSV"}})],1),e._v(" "),r("v-card-actions",{staticClass:"justify-end"},[r("v-btn",{attrs:{text:""},on:{click:function(t){e.showImportModal=!1}}},[e._v("Close")])],1)],1)],1),e._v(" "),r("AddMedia",{attrs:{showModal:e.showModal},on:{close:e.closePopup}}),e._v(" "),r("div",[e.loading?e._e():r("MediaList",{staticClass:"mt-2 mb-15",attrs:{mediaData:e.mediaData}}),e._v(" "),r("div",{staticClass:"pagination"},[r("PaginationBar",{attrs:{page:"mediaList"},on:{changePage:e.onPageChange}})],1)],1),e._v(" "),r("h3",{directives:[{name:"show",rawName:"v-show",value:!(e.loading||e.mediaData&&e.mediaData.length),expression:"!loading && !(mediaData && mediaData.length)"}],staticClass:"py-5 text-center font-weight-bold primary--text"},[e._v("\n    No data available\n  ")]),e._v(" "),e.loading?r("h3",{staticClass:"py-5 text-center font-weight-bold primary--text"},[r("v-container",{staticStyle:{height:"400px"}},[r("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[r("v-col",{staticClass:"text-subtitle-1 text-center font-weight-bold",attrs:{cols:"12"}},[e._v("\n          Getting Your Media..\n        ")]),e._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-progress-linear",{attrs:{color:"primary accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1)],1):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;k()(component,{MediaList:r(636).default}),k()(component,{VAutocomplete:F.a,VBtn:P.a,VCard:M.a,VCardActions:B.a,VCardText:B.c,VCardTitle:B.d,VChip:j.a,VCol:I.a,VContainer:E.a,VDialog:L.a,VFileInput:V.a,VIcon:$.a,VProgressLinear:A.a,VRow:R.a,VSpacer:N.a,VTextField:G.a,VToolbar:z.a})}}]);