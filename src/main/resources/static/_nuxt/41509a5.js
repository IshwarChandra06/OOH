(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{554:function(t,e,r){var content=r(584);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("e2f2690c",content,!0,{sourceMap:!1})},583:function(t,e,r){"use strict";r(554)},584:function(t,e,r){var o=r(14)(!1);o.push([t.i,".custom-loader{-webkit-animation:loader 1s infinite;animation:loader 1s infinite;display:flex}.slider-card{position:relative;width:50%;max-width:300px}.image{display:block;width:100%;height:auto}.overlay{position:absolute;bottom:0;width:20%;transition:.5s ease;opacity:1;color:#fff;font-size:20px;padding-left:.5rem}@-webkit-keyframes loader{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@keyframes loader{0%{transform:rotate(0)}to{transform:rotate(1turn)}}",""]),t.exports=o},663:function(t,e,r){"use strict";r.r(e);r(10),r(8),r(11),r(12),r(9),r(13);var o=r(3),n=r(1),c=(r(41),r(78)),d=(r(524),r(525)),l=r.n(d),h=r(2);r(320);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}h.default.use(l.a);var D={props:["isComponent","payloadForAPI","selectedCampaign","isShowReport"],data:function(){return{isImage:!1,isVideo:!0,dialog:!1,imagePath:"",videoPath:"",events:[],input:null,nonce:0,campaignId:"",menu:!1,modal:!1,assetId:"",isSearching:!1,bottomOfWindow:!1,lazyLoadingPageSize:5,startDate:new Date,endDate:new Date,showLoadMoreBtn:!0,enableScroll:!1}},computed:f(f({},Object(c.c)({campaignAssetReportData:function(t){return t.reports.campaignAssetReportData},isSearchingCampAssetReport:function(t){return t.reports.isSearchingCampAssetReport},isLoader:function(t){return t.reports.isLoader},isSearchingAssetReport:function(t){return t.reports.isSearchingAssetReport},autoLoadMore:function(t){return t.reports.autoLoadMore}})),{},{isComponentLocal:function(){var data=!1;return this.isComponent&&(data=!0,this.isSearching=!0),data}}),created:function(){this.scroll()},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Date(t.selectedCampaign.endDate),o=new Date,n=r,r>o&&(n=o),t.startDate=new Date(n),t.startDate.setDate(t.startDate.getDate()-t.lazyLoadingPageSize),t.endDate=new Date(n),console.log("start - end",t.startDate,t.endDate),t.enableScroll=!0,t.payloadForAPI.assetCode&&t.startDate&&t.endDate&&t.$store.dispatch("reports/fetchCampaignMediaReport",{assetId:t.payloadForAPI.assetCode,campaginId:t.payloadForAPI.campaignId,startDateStr:t.startDate,endDateStr:t.endDate,enablePageLoader:!0});case 10:case"end":return e.stop()}}),e)})))()},destroyed:function(){this.enableScroll=!1,console.log("destroyed",this._inactive,this.item),this.$store.dispatch("reports/cleanupReportStates")},methods:{close:function(){this.dialog=!1},dialogMethod:function(t){this.isImage=t.mediaSite.camera.saveImage,this.isVideo=t.mediaSite.camera.saveVideo,this.imagePath=t.originalUrl,this.videoPath=t.videoUrl,this.dialog=!0},searchFilter:function(){this.assetId&&this.campaignId?this.$store.dispatch("reports/fetchCampaignAssetReport",{assetId:this.assetId,campaginId:this.campaignId}):(this.$showErrorToast(this,"Please enter the required field"),this.resetFields())},resetFields:function(){this.campaignId="",this.assetId=""},clearReport:function(){this.$store.dispatch("reports/clearIfSeraching"),this.$emit("closeReport")},computeLoadingBtn:function(){this.showLoadMoreBtn=new Date(this.selectedCampaign.startDate)<=this.startDate},scroll:function(){var t=this;window.onscroll=function(){t.enableScroll&&(t.bottomOfWindow=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)+window.innerHeight>=.96*document.documentElement.offsetHeight)}},loadMore:function(){this.startDate.setDate(this.startDate.getDate()-this.lazyLoadingPageSize),this.endDate.setDate(this.endDate.getDate()-this.lazyLoadingPageSize),this.computeLoadingBtn(),new Date(this.selectedCampaign.startDate)>this.startDate&&new Date(this.selectedCampaign.startDate)<=this.endDate&&(this.startDate=new Date(this.selectedCampaign.startDate)),console.log("start - end - watch",this.startDate,this.endDate),this.payloadForAPI.assetCode&&this.payloadForAPI.campaignId&&new Date(this.selectedCampaign.startDate)<=this.startDate&&this.$store.dispatch("reports/fetchCampaignMediaReport",{assetId:this.payloadForAPI.assetCode,campaginId:this.payloadForAPI.campaignId,startDateStr:this.startDate,endDateStr:this.endDate})},grabMediaInfo:function(t){this.selectedMedia=t,this.dialog2=!1,this.cli=!0,this.payloadForAPI=f(f({},this.payloadForAPI),{},{assetCode:t.mediaId})}},watch:{isSearchingAssetReport:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:console.log("is searching/.....",t),e.isSearching=t;case 2:case"end":return r.stop()}}),r)})))()},bottomOfWindow:function(t){console.log("valu of scroll ",t),t&&(this.startDate.setDate(this.startDate.getDate()-this.lazyLoadingPageSize),this.endDate.setDate(this.endDate.getDate()-this.lazyLoadingPageSize),console.log("in watcher start - end - watch",this.startDate,this.endDate),this.computeLoadingBtn(),new Date(this.selectedCampaign.startDate)>this.startDate&&new Date(this.selectedCampaign.startDate)<=this.endDate&&(this.startDate=new Date(this.selectedCampaign.startDate)),this.payloadForAPI.assetCode&&this.payloadForAPI.campaignId&&new Date(this.selectedCampaign.startDate)<=this.startDate&&(this.$store.dispatch("reports/fetchCampaignMediaReport",{assetId:this.payloadForAPI.assetCode,campaginId:this.payloadForAPI.campaignId,startDateStr:this.startDate,endDateStr:this.endDate}),console.log("inside if conditoin in watcher")),console.log("reached to bottom"))},autoLoadMore:function(t){t&&this.loadMore()}}},v=(r(583),r(45)),w=r(56),y=r.n(w),C=r(234),I=r(224),S=r(99),P=r(496),_=r(504),x=r(497),A=r(225),O=r(501),R=r(579),k=r(668),L=r(127),j=r(502),M=r(639),V=r(640),component=Object(v.a)(D,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-card",{attrs:{color:"primary"}},[r("div",{staticClass:"d-flex justify-start flex-wrap"},[r("v-card-title",{staticClass:"justify-start mb-2 py-2",staticStyle:{color:"white"}},[t._v(t._s(t.isComponentLocal?"":"Campaign Media")+" Report\n        Timeline")]),r("v-spacer"),t._v(" "),t.isComponentLocal?t._e():r("v-btn",{staticClass:"ma-2",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")])],1)]),t._v(" "),!t.isSearching&&t.campaignAssetReportData&&Object.keys(t.campaignAssetReportData).length?r("v-timeline",{attrs:{dense:"",clipped:""}},[r("v-slide-x-transition",{attrs:{group:""}},t._l(t.campaignAssetReportData,(function(e,o){return r("v-timeline-item",{key:o,staticClass:"mb-4",attrs:{color:"pink",small:""}},[r("div",{staticClass:"mb-3",attrs:{"hide-dot":""}},[r("h3",[t._v(t._s(o))])]),t._v(" "),r("v-row",{attrs:{justify:"space-between"}},[r("v-col",{attrs:{cols:"12",lg:"12",md:"12"}},[r("v-slide-group",{staticClass:"pa-4",attrs:{"active-class":"success","show-arrows":""}},[t._l(e,(function(e,o){return r("v-slide-item",{key:o},[r("v-card",{staticClass:"ma-4 slider-card"},[e.mediaSite.camera.saveImage?r("span",{attrs:{small:""},on:{click:function(r){return t.dialogMethod(e)}}},[r("img",{staticClass:"white--text align-end image",attrs:{src:e.thumbnailUrl,width:"300px"}}),t._v(" "),r("div",{staticClass:"overlay"},[t._v(t._s(e.time))])]):e.mediaSite.camera.saveVideo?r("span",{attrs:{small:""},on:{click:function(r){return t.dialogMethod(e)}}},[r("img",{staticClass:"white--text align-end image",attrs:{src:e.videoFirstFramePath,width:"300px"}})]):t._e(),t._v(" "),r("div",{staticClass:"overlay"},[t._v(t._s(e.time))])])],1)})),t._v(" "),t.dialog?r("v-dialog",{attrs:{"retain-focus":!1,"max-width":"1000px","hide-overlay":""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-text",[r("v-container",[t.isImage?r("span",[r("img",{staticClass:"white--text align-end image",attrs:{src:t.imagePath,width:"300px"}})]):t.isVideo?r("span",[r("video",{attrs:{height:"100%",width:"100%",controls:"",autoplay:""}},[r("source",{attrs:{src:t.videoPath,type:"video/mp4"}})])]):t._e()])],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"primary darken-1"},on:{click:t.close}},[t._v(" Cancel \n                        ")])],1)],1)],1):t._e()],2)],1)],1)],1)})),1)],1):t.isSearching||!t.campaignAssetReportData||0!=Object.keys(t.campaignAssetReportData).length||t.showLoadMoreBtn||t.isLoader?t._e():r("h3",{staticClass:"py-5 text-center font-weight-bold primary--text"},[t._v("\n    No data available\n  ")]),t._v(" "),t.isSearching||t.campaignAssetReportData&&0==Object.keys(t.campaignAssetReportData).length&&t.isLoader?r("h3",{staticClass:"py-5 text-center font-weight-bold primary--text"},[r("v-container",{staticStyle:{height:"400px"}},[r("v-row",{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[r("v-col",{staticClass:"text-subtitle-1 text-center font-weight-bold",attrs:{cols:"12"}},[t._v("\n          Getting your files\n        ")]),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-progress-linear",{attrs:{color:"primary accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1)],1):t._e(),t._v(" "),!t.isSearching&&t.showLoadMoreBtn?r("v-btn",{staticClass:"black--text",attrs:{dark:"",primary:"",color:"#e0e0e0",elevation:"0",block:"",loading:t.isLoader},on:{click:t.loadMore}},[t._v("Load More")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{VBtn:C.a,VCard:I.a,VCardActions:S.a,VCardText:S.c,VCardTitle:S.d,VCol:P.a,VContainer:_.a,VDialog:x.a,VProgressLinear:A.a,VRow:O.a,VSlideGroup:R.b,VSlideItem:k.a,VSlideXTransition:L.d,VSpacer:j.a,VTimeline:M.a,VTimelineItem:V.a})}}]);