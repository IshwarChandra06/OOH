(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{506:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r(73),o=r(0),l=Object(o.i)("v-toolbar__title"),c=Object(o.i)("v-toolbar__items");n.a},549:function(e,t,r){"use strict";var n=r(1),o=(r(32),r(46),r(238),r(11),r(9),r(47),r(105),r(10),r(8),r(12),r(13),r(5)),l=r(90),c=r(104);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(o.a)(l.a,Object(c.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var e=this,t=function(input){return input.$watch("hasError",(function(t){e.$set(e.errorBag,input._uid,t)}),{immediate:!0})},r={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?r.shouldValidate=input.$watch("shouldValidate",(function(n){n&&(e.errorBag.hasOwnProperty(input._uid)||(r.valid=t(input)))})):r.valid=t(input),r},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var e=this.inputs.find((function(i){return i._uid===input._uid}));if(e){var t=this.watchers.find((function(i){return i._uid===e._uid}));t&&(t.valid(),t.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==e._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:h({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},559:function(e,t,r){var content=r(560);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("5e62c9d0",content,!0,{sourceMap:!1})},560:function(e,t,r){var n=r(14)(!1);n.push([e.i,".theme--light.v-radio--is-disabled label{color:rgba(0,0,0,.38)}.theme--light.v-radio--is-disabled .v-icon{color:rgba(0,0,0,.26)!important}.theme--dark.v-radio--is-disabled label{color:hsla(0,0%,100%,.5)}.theme--dark.v-radio--is-disabled .v-icon{color:hsla(0,0%,100%,.3)!important}.v-radio{align-items:center;display:flex;height:auto;outline:none}.v-radio--is-disabled{pointer-events:none;cursor:default}.v-input--radio-group.v-input--radio-group--row .v-radio{margin-right:16px}",""]),e.exports=n},561:function(e,t,r){var content=r(562);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("2e2bc7da",content,!0,{sourceMap:!1})},562:function(e,t,r){var n=r(14)(!1);n.push([e.i,'.theme--light.v-input--selection-controls.v-input--is-disabled:not(.v-input--indeterminate) .v-icon{color:rgba(0,0,0,.26)!important}.theme--dark.v-input--selection-controls.v-input--is-disabled:not(.v-input--indeterminate) .v-icon{color:hsla(0,0%,100%,.3)!important}.v-input--selection-controls{margin-top:16px;padding-top:4px}.v-input--selection-controls>.v-input__append-outer,.v-input--selection-controls>.v-input__prepend-outer{margin-top:0;margin-bottom:0}.v-input--selection-controls:not(.v-input--hide-details)>.v-input__slot{margin-bottom:12px}.v-input--selection-controls .v-input__slot,.v-input--selection-controls .v-radio{cursor:pointer}.v-input--selection-controls .v-input__slot>.v-label,.v-input--selection-controls .v-radio>.v-label{align-items:center;display:inline-flex;flex:1 1 auto;height:auto}.v-input--selection-controls__input{color:inherit;display:inline-flex;flex:0 0 auto;height:24px;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1);transition-property:transform;width:24px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.v-input--selection-controls__input .v-icon{width:100%}.v-application--is-ltr .v-input--selection-controls__input{margin-right:8px}.v-application--is-rtl .v-input--selection-controls__input{margin-left:8px}.v-input--selection-controls__input input[role=checkbox],.v-input--selection-controls__input input[role=radio],.v-input--selection-controls__input input[role=switch]{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.v-input--selection-controls__input+.v-label{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.v-input--selection-controls__ripple{border-radius:50%;cursor:pointer;height:34px;position:absolute;transition:inherit;width:34px;left:-12px;top:calc(50% - 24px);margin:7px}.v-input--selection-controls__ripple:before{border-radius:inherit;bottom:0;content:"";position:absolute;opacity:.2;left:0;right:0;top:0;transform-origin:center center;transform:scale(.2);transition:inherit}.v-input--selection-controls__ripple>.v-ripple__container{transform:scale(1.2)}.v-input--selection-controls.v-input--dense .v-input--selection-controls__ripple{width:28px;height:28px;left:-9px}.v-input--selection-controls.v-input--dense:not(.v-input--switch) .v-input--selection-controls__ripple{top:calc(50% - 21px)}.v-input--selection-controls.v-input{flex:0 1 auto}.v-input--selection-controls.v-input--is-focused .v-input--selection-controls__ripple:before,.v-input--selection-controls .v-radio--is-focused .v-input--selection-controls__ripple:before{background:currentColor;transform:scale(1.2)}.v-input--selection-controls__input:hover .v-input--selection-controls__ripple:before{background:currentColor;transform:scale(1.2);transition:none}',""]),e.exports=n},563:function(e,t,r){var content=r(564);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("999cb8a8",content,!0,{sourceMap:!1})},564:function(e,t,r){var n=r(14)(!1);n.push([e.i,".v-input--radio-group legend.v-label{cursor:text;font-size:14px;height:auto}.v-input--radio-group__input{border:none;cursor:default;display:flex;width:100%}.v-input--radio-group--column .v-input--radio-group__input>.v-label{padding-bottom:8px}.v-input--radio-group--row .v-input--radio-group__input>.v-label{padding-right:8px}.v-input--radio-group--row legend{align-self:center;display:inline-block}.v-input--radio-group--row .v-input--radio-group__input{flex-direction:row;flex-wrap:wrap}.v-input--radio-group--column legend{padding-bottom:8px}.v-input--radio-group--column .v-radio:not(:last-child):not(:only-child){margin-bottom:8px}.v-input--radio-group--column .v-input--radio-group__input{flex-direction:column}",""]),e.exports=n},642:function(e,t,r){"use strict";r(10),r(8),r(11),r(12),r(9),r(13);var n=r(1),o=(r(19),r(561),r(563),r(80)),l=r(152),c=r(544),d=r(5);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=Object(d.a)(c.a,l.a,o.a);t.a=v.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return f(f({},o.a.options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},o.a.options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var e=o.a.options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel:function(){var label=o.a.options.methods.genLabel.call(this);return label?(label.data.attrs.id=this.computedId,delete label.data.attrs.for,label.tag="legend",label):null},onClick:l.a.options.methods.onClick}})},653:function(e,t,r){var content=r(726);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("86a2410c",content,!0,{sourceMap:!1})},667:function(e,t,r){"use strict";r(10),r(8),r(11),r(12),r(9),r(13);var n=r(103),o=r(1),l=(r(29),r(559),r(157)),c=r(88),d=r(80),h=r(90),f=r(23),v=r(149),m=r(89),O=r(2).default.extend({name:"rippleable",directives:{ripple:m.a},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(data.staticClass="v-input--selection-controls__ripple",data.directives=data.directives||[],data.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",data)):null}}}),_=r(17),y=(r(16),r(72),r(544)),w=r(5);function x(e){e.preventDefault()}var I=Object(w.a)(d.a,O,y.a).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var e=this,t=this.value,input=this.internalValue;return this.isMultiple?!!Array.isArray(input)&&input.some((function(r){return e.valueComparator(r,t)})):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,input):Boolean(input):this.valueComparator(input,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel:function(){var label=d.a.options.methods.genLabel.call(this);return label?(label.data.on={click:x},label):label},genInput:function(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:x},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(e){this.onChange(),this.$emit("click",e)},onChange:function(){var e=this;if(this.isInteractive){var t=this.value,input=this.internalValue;if(this.isMultiple){Array.isArray(input)||(input=[]);var r=input.length;(input=input.filter((function(r){return!e.valueComparator(r,t)}))).length===r&&input.push(t)}else input=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(input,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(input,t)?null:t:!input;this.validate(!0,input),this.internalValue=input,this.hasColor=input}},onFocus:function(){this.isFocused=!0},onKeydown:function(e){}}}),j=r(0),F=r(58),D=["title"];function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var k=Object(w.a)(h.a,f.a,O,Object(v.a)("radioGroup"),_.a);t.a=k.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return P(P({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return I.options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return d.a.options.computed.computedId.call(this)},hasLabel:d.a.options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return I.options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(e){return I.options.methods.genInput.call(this,"radio",e)},genLabel:function(){return this.hasLabel?this.$createElement(l.a,{on:{click:x},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(j.s)(this,"label")||this.label):null},genRadio:function(){var e=this.attrs$,t=(e.title,Object(n.a)(e,D));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(c.a,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(P({name:this.computedName,value:this.value},t)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(e){return e("div",{staticClass:"v-radio",class:this.classes,on:Object(F.c)({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}},[this.genRadio(),this.genLabel()])}})},725:function(e,t,r){"use strict";r(653)},726:function(e,t,r){var n=r(14)(!1);n.push([e.i,".v-label{margin-top:.1rem;margin-left:.3rem;font-weight:400}.v-text-field input{padding-left:.4rem}.v-application .ma-2{padding:1.5rem 1rem}.v-chip .v-chip__content{font-weight:700}.theme--light.v-label,.v-text-field input{font-weight:400}.v-chip,.v-chip.v-size--default{border-radius:3rem}.v-sheet.v-card{border-radius:0}",""]),e.exports=n},772:function(e,t,r){"use strict";r.r(t);r(8),r(12),r(13);var n=r(3),o=r(57),l=r(1),c=(r(41),r(29),r(32),r(46),r(190),r(11),r(27),r(9),r(319),r(30),r(237),r(67),r(68),r(66),r(10),r(78)),d=r(526);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={data:function(){return{show1:!1,loading:!1,search:"",valid:!0,dialog:!1,dialogDelete:!1,totalUsersList:null,options:{pageNumber:null,page:1,itemsPerPage:10},headers:[{text:"Actions",value:"actions",sortable:!1},{text:"ID",value:"id",align:"start",sortable:!0},{text:"Username",value:"userName"},{text:"Phone",value:"phone"},{text:"Role",value:"role.name"},{text:"Organization",value:"organization.name"},{text:"Active",value:"active"}],statusList:[{text:"true",value:!0},{text:"false",value:!1}],rolesList:[],usersData:[],editedIndex:-1,selectedOrg:{},editedItem:{id:"",userName:"",password:"",phone:"",role:{id:""},organization:{id:""},active:""},defaultItem:{id:"",userName:"",password:"",phone:"",role:{id:""},organization:{id:""},active:""},tableHeight:"450px",nameRules:[function(e){return!!e||""},function(e){return e&&e.length<=100||"Text not more than 100 characters"}],roleRules:[function(e){return!!e||"Role ID is required"}],passwordRules:{required:function(e){return!!e||""},min:function(e){return e&&e.length>=8||"Min 8 characters"}},tableFields:[],selectedFields:[],chipFields:[],userSchema:{id:"",userName:"",phone:"",organization:"",role:""},chipFilterObj:{}}},created:function(){this.$store.dispatch("organizations/fetchOrganizations"),this.setTableFields()},computed:f(f(f({},Object(c.c)({getUsersData:function(e){return e.userManagement.users},getUsersStats:function(e){return e.userManagement.usersStats},userPrivileges:function(e){return e.userPrivileges},organizationsList:function(e){return e.organizations.organizations},organizationDetails:function(e){return e.organizations.organizationDetails},isSerching:function(e){return e.userManagement.isSearching}})),Object(c.b)({getOrganizationId:"getOrgId"})),{},{formTitle:function(){return-1===this.editedIndex?"Add New":"Edit User"},getHeaders:function(){if(this.userPrivileges[this.$route.name]&&(this.userPrivileges[this.$route.name].includes("update")||this.userPrivileges[this.$route.name].includes("delete")))return this.headers;var e=Object(o.a)(this.headers);return e.splice(0,1),e}}),mounted:function(){this.tableHeight=window.innerHeight-250},watch:{selectedOrg:function(e){},organizationDetails:function(e){e&&e.id&&(this.rolesList=e.roles)},dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()},options:{handler:function(){this.dispatchUsersFilter()}},deep:!0,getUsersData:function(e){e&&e.length?(this.loading=!1,this.usersData=JSON.parse(JSON.stringify(e))):(this.loading=!1,this.usersData=[])},getUsersStats:function(e){this.totalUsersList=e&&e.total_record||0},selectedFields:function(e){var t=this;if(e){var r=e.filter((function(e){var r=e.field;return!t.chipFields.some((function(e){return e.field===r}))})),n=this.chipFields.filter((function(t){var r=t.field;return!e.some((function(e){return e.field===r}))}));if(r&&r.length&&(this.chipFields=[].concat(Object(o.a)(this.chipFields),Object(o.a)(r))),n&&n.length){var l=this.chipFields.filter((function(e){var t=e.field;return!n.some((function(e){return e.field===t}))}));this.chipFields=l}this.chipFields=JSON.parse(JSON.stringify(this.chipFields))}},isSerching:function(e){this.loading=e},chipFields:function(e){e&&!e.length&&this.$store.dispatch("userManagement/fetchUsersWithFilter")}},methods:{grabChipFilter:function(){if(this.chipFields&&this.chipFields.length){var e={};this.chipFields.forEach((function(t){t=JSON.parse(JSON.stringify(t)),e[t.field]=t.searchKey})),this.chipFilterObj=e}else this.chipFilterObj={}},onSelectOrg:function(){this.selectedOrg&&this.selectedOrg.id&&(this.editedItem.organization=this.selectedOrg,this.editedItem.role.id="",this.$store.dispatch("organizations/fetchOrganizationById",this.selectedOrg.id))},editItem:function(e){var t=f({},e);console.log("item,",e),this.dialog=!0,this.editedIndex=this.usersData.indexOf(e),delete t.password,this.selectedOrg=e.organization,this.editedItem.role.id=e.role.id,this.$store.dispatch("organizations/fetchOrganizationById",this.selectedOrg.id),this.editedItem=Object.assign({},t)},deleteItem:function(e){this.editedIndex=this.usersData.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;this.$store.dispatch("userManagement/deleteUser",{id:this.editedItem.id}).then((function(){e.$showSuccessToast(e,"User Deleted Successfully")})).catch((function(){e.$showErrorToast(e,"Parameter Error")})),this.closeDelete()},close:function(){var e=this;this.$refs.form.resetValidation(),this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.selectedOrg={},e.rolesList=[],e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;if(this.$refs.form.validate(),console.log("edt",this.editedItem),this.editedItem.role&&this.editedItem.role.id&&this.editedItem.userName&&this.editedItem.organization.id)if(-1===this.editedIndex){if(!this.editedItem.password)return void this.$showErrorToast(this,"Please fill all mandatory fields!");this.$store.dispatch("userManagement/addUser",this.editedItem).then((function(){e.close(),e.$showSuccessToast(e,"User Added Successfully"),e.dispatchUsersFilter()})).catch((function(t){console.error(t.response),t.response&&t.response.data&&t.response.data.data?e.$showErrorToast(e,t.response.data.msg):e.$showErrorToast(e,"Update Failed")}))}else console.log("role",this.editedItem.role.id),this.$store.dispatch("userManagement/updateUser",this.editedItem).then((function(){e.close(),e.$showSuccessToast(e,"User Updated Successfully"),e.dispatchUsersFilter()})).catch((function(t){console.error(t.response),t.response&&t.response.data&&t.response.data.data?e.$showErrorToast(e,t.response.data.msg):e.$showErrorToast(e,"Update Failed")}));else this.$showErrorToast(this,"Please fill all mandatory fields!")},searchRecord:function(){this.setTableParams();var e={pageNo:this.pageNumber,pageSize:this.itemsPerPage,orgId:this.getOrganizationId};if(this.sort&&(e.sortField=this.sort),this.sortDirection&&(e.sortOrder=this.sortDirection),this.search&&""!==this.search){var t=this.search.split(","),r=t.filter((function(e){return null!=e&&e.trim().length>0}));t=r.map((function(s){return s.trim()})),e.searchData={userName:t},this.$store.dispatch("userManagement/fetchUsers",e)}else this.search="",e.searchData={},this.$store.dispatch("userManagement/fetchUsers",e)},clearRecord:function(){this.search="",this.dispatchUsersFilter()},setTableParams:function(){var e=this.options,t=e.sortBy,r=e.sortDesc,n=e.page,o=e.itemsPerPage;this.pageNumber=n,this.sort=t[0],this.sortDirection=r[0]?"asc":"dec",this.itemsPerPage=o},dispatchUsersFilter:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.setTableParams(),r={searchData:e.searchData||{},pageNo:e.pageNumber,pageSize:e.itemsPerPage,orgId:e.orgId},e.sort&&(r.sortField=e.sort),e.sortDirection&&(r.sortOrder=e.sortDirection),t.next=7,e.grabChipFilter();case 7:e.chipFilterObj&&Object.keys(e.chipFilterObj).length&&(r.searchData=f(f({},r.searchData),e.chipFilterObj)),e.$store.dispatch("userManagement/fetchUsers",r).then((function(){e.loading=!1})).catch((function(e){console.error("errors",e)}));case 9:case"end":return t.stop()}}),t)})))()},setTableFields:function(){var e=this;this.headers&&this.headers.length&&Object.keys(this.userSchema).forEach((function(t){e.tableFields.push({field:t,searchKey:""})}))},updateSelectedFields:function(e){this.chipFields=this.chipFields.filter((function(t){return t.field!==e.field})),this.selectedFields=this.selectedFields.filter((function(t){return t.field!==e.field}))},trigerFilter:function(e){var t={searchData:{},pageNo:1,pageSize:this.itemsPerPage};if(this.sort&&(t.sortField=this.sort),this.sortDirection&&(t.sortOrder=this.sortDirection),this.chipFields&&this.chipFields.length){var r={};this.chipFields.forEach((function(e){e=JSON.parse(JSON.stringify(e)),r[e.field]=e.searchKey})),t.searchData=r}e&&13==e.keyCode&&this.$store.dispatch("userManagement/fetchUsersWithFilter",t)},preparePayload:function(){var e={searchData:{},pageNo:1,pageSize:this.itemsPerPage||10};if(this.sort&&(e.sortField=this.sort),this.sortDirection&&(e.sortOrder=this.sortDirection),this.chipFields&&this.chipFields.length){var t={};this.chipFields.forEach((function(e){e=JSON.parse(JSON.stringify(e)),t[e.field]=e.value})),e.searchData=t}return e},onChangeFilter:d.debounce((function(){var e={searchData:{},pageNo:1,pageSize:this.itemsPerPage||10};if(this.sort&&(e.sortField=this.sort),this.sortDirection&&(e.sortOrder=this.sortDirection),this.chipFields&&this.chipFields.length){var t={};this.chipFields.forEach((function(e){e=JSON.parse(JSON.stringify(e)),t[e.field]=e.searchKey})),e.searchData=t}this.$store.dispatch("userManagement/fetchUsersWithFilter",e)}),1500)}},m=(r(725),r(45)),O=r(56),_=r.n(O),y=r(528),w=r(234),x=r(224),I=r(99),j=r(591),F=r(496),D=r(504),S=r(757),P=r(497),k=r(549),$=r(220),C=r(667),V=r(642),z=r(501),N=r(517),E=r(502),U=r(482),T=r(73),B=r(506),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.getHeaders,items:e.usersData,search:e.search,options:e.options,"server-items-length":e.totalUsersList,"footer-props":{"items-per-page-options":[5,10,30,50,100]},loading:e.loading,"loading-text":"Loading... Please wait","sort-by":"id",height:e.tableHeight},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"primary"}},[r("v-toolbar-title",{staticClass:"white--text"},[e._v("User Management")]),e._v(" "),r("v-spacer"),e._v(" "),r("v-autocomplete",{staticClass:"mt-4",attrs:{label:"Add Filter",items:e.tableFields,required:"",multiple:"","return-object":"","item-text":"field","item-value":"field",color:"white",dark:""},model:{value:e.selectedFields,callback:function(t){e.selectedFields=t},expression:"selectedFields"}}),e._v(" "),r("v-spacer"),e._v(" "),e.userPrivileges[e.$route.name]&&e.userPrivileges[e.$route.name].includes("add")?r("v-btn",{staticClass:"my-2",on:{click:function(t){e.dialog=!0}}},[e._v("\n        Add New\n      ")]):e._e(),e._v(" "),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),e._v(" "),r("v-card-text",[r("v-container",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[void 0!==e.editedItem.userName?r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"Username*",counter:"100"},model:{value:e.editedItem.userName,callback:function(t){e.$set(e.editedItem,"userName",t)},expression:"editedItem.userName"}})],1):e._e(),e._v(" "),void 0!==e.editedItem.password?r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{rules:[e.passwordRules.min],type:e.show1?"text":"password","append-icon":e.show1?"mdi-eye":"mdi-eye-off",label:"Password*",minlength:"8",maxlength:"25"},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.editedItem.password,callback:function(t){e.$set(e.editedItem,"password",t)},expression:"editedItem.password"}})],1):e._e(),e._v(" "),void 0!==e.editedItem.phone?r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"Phone",type:"text",minlength:"10",maxlength:"10"},model:{value:e.editedItem.phone,callback:function(t){e.$set(e.editedItem,"phone",t)},expression:"editedItem.phone"}})],1):e._e(),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{"return-object":"",label:"Organization*",items:e.organizationsList,"item-value":"id","item-text":"name",required:""},on:{change:e.onSelectOrg},model:{value:e.selectedOrg,callback:function(t){e.selectedOrg=t},expression:"selectedOrg"}})],1),e._v(" "),void 0!==e.editedItem.role.id?r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-select",{attrs:{items:e.rolesList,label:"Roles*","item-text":"name","item-value":"id"},model:{value:e.editedItem.role.id,callback:function(t){e.$set(e.editedItem.role,"id",t)},expression:"editedItem.role.id"}})],1):e._e(),e._v(" "),void 0!==e.editedItem.active?r("v-col",{attrs:{cols:"12",sm:"6"}},[r("label",{},[e._v("Active")]),e._v(" "),r("v-radio-group",{attrs:{row:""},model:{value:e.editedItem.active,callback:function(t){e.$set(e.editedItem,"active",t)},expression:"editedItem.active"}},e._l(e.statusList,(function(e){return r("v-radio",{key:e.value,attrs:{label:e.text,value:e.value,required:""}})})),1)],1):e._e()],1)],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary darken-1"},on:{click:e.close}},[e._v(" Cancel ")]),e._v(" "),r("v-btn",{attrs:{color:"primary darken-1",disabled:!e.valid},on:{click:e.save}},[e._v("\n              Save\n            ")])],1)],1)],1),e._v(" "),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Are you sure you want to delete this User?")]),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary darken-1"},on:{click:e.closeDelete}},[e._v("Cancel")]),e._v(" "),r("v-btn",{attrs:{color:"primary darken-1"},on:{click:e.deleteItemConfirm}},[e._v("OK")]),e._v(" "),r("v-spacer")],1)],1)],1)],1),e._v(" "),r("v-card",{attrs:{dark:"",color:"primary",flat:""}},[e.chipFields&&e.chipFields.length?r("div",e._l(e.chipFields,(function(t,n){return r("v-chip",{key:n,staticClass:"ma-2 white--text",attrs:{close:"",color:"rgba(255,255,255,.15)"},on:{"click:close":function(r){return e.updateSelectedFields(t)}}},[e._v("\n          "+e._s(t.field)+" :\n\n          "),r("v-text-field",{attrs:{label:"value",flat:"","single-line":"",width:"50px"},on:{keydown:e.trigerFilter,input:e.onChangeFilter},model:{value:t.searchKey,callback:function(r){e.$set(t,"searchKey",r)},expression:"item.searchKey"}})],1)})),1):e._e()])]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[e.userPrivileges[e.$route.name]&&e.userPrivileges[e.$route.name].includes("update")?r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("\n      mdi-pencil\n    ")]):e._e(),e._v(" "),e.userPrivileges[e.$route.name]&&e.userPrivileges[e.$route.name].includes("delete")?r("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(n)}}},[e._v("\n      mdi-delete\n    ")]):e._e()]}}])})}),[],!1,null,null,null);t.default=component.exports;_()(component,{VAutocomplete:y.a,VBtn:w.a,VCard:x.a,VCardActions:I.a,VCardText:I.c,VCardTitle:I.d,VChip:j.a,VCol:F.a,VContainer:D.a,VDataTable:S.a,VDialog:P.a,VForm:k.a,VIcon:$.a,VRadio:C.a,VRadioGroup:V.a,VRow:z.a,VSelect:N.a,VSpacer:E.a,VTextField:U.a,VToolbar:T.a,VToolbarTitle:B.b})}}]);